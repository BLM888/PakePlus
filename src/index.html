<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>系统登录 - 科幻认证中心</title>
    <!-- 预加载关键资源 -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" as="style">
    
    <!-- 引入外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'space-blue': '#0b1a3a',
                        'deep-blue': '#142957',
                        'cyber-gold': '#d4af37',
                        'glow-blue': '#00f0ff',
                        'glow-purple': '#9d4edd'
                    },
                    fontFamily: {
                        'cyber': ['Orbitron', 'sans-serif']
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 5px rgba(0, 240, 255, 0.5), 0 0 10px rgba(0, 240, 255, 0.3)' },
                            '100%': { boxShadow: '0 0 10px rgba(0, 240, 255, 0.8), 0 0 20px rgba(0, 240, 255, 0.5), 0 0 30px rgba(157, 78, 221, 0.5)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow-glow {
                text-shadow: 0 0 10px rgba(0, 240, 255, 0.7), 0 0 20px rgba(0, 240, 255, 0.3);
            }
            .text-shadow-gold {
                text-shadow: 0 0 5px rgba(212, 175, 55, 0.8), 0 0 10px rgba(212, 175, 55, 0.4);
            }
            .bg-grid {
                background-image: linear-gradient(rgba(0, 240, 255, 0.1) 1px, transparent 1px),
                                linear-gradient(90deg, rgba(0, 240, 255, 0.1) 1px, transparent 1px);
                background-size: 20px 20px;
            }
            .gradient-border {
                position: relative;
                border-radius: 0.5rem;
                z-index: 0;
            }
            .gradient-border::before {
                content: "";
                position: absolute;
                inset: -2px;
                border-radius: 0.6rem;
                background: linear-gradient(45deg, #00f0ff, #9d4edd, #00f0ff);
                z-index: -1;
                animation: rotate 6s linear infinite;
                background-size: 300%;
            }
            @keyframes rotate {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
        }
    </style>

    <!-- Windows兼容性样式 -->
    <style>
        /* 高对比度模式适配 */
        @media (forced-colors: active) {
            :root {
                --glow-blue: CanvasText;
                --glow-purple: CanvasText;
            }
            .gradient-border::before {
                background: Canvas;
                animation: none;
            }
            .bg-grid {
                background-image: none;
            }
        }

        /* 抖动动画样式提前定义 */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }

        /* 禁用不必要的动画提升低端设备性能 */
        @media (max-performance: 1) {
            * {
                animation-duration: 0s !important;
                animation-delay: 0s !important;
            }
        }
    </style>
</head>

<body class="bg-space-blue min-h-screen flex items-center justify-center p-4 overflow-hidden relative font-cyber">
    <!-- 背景效果 -->
    <div class="absolute inset-0 bg-grid opacity-30"></div>
    <div class="absolute top-0 left-1/4 w-64 h-64 bg-glow-blue/10 rounded-full filter blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-glow-purple/10 rounded-full filter blur-3xl animate-pulse-slow" style="animation-delay: 2s;"></div>
    
    <!-- 装饰性几何图形 -->
    <div class="absolute top-10 left-10 w-20 h-20 border border-glow-blue/30 rounded-lg rotate-12 animate-float"></div>
    <div class="absolute bottom-20 right-10 w-32 h-32 border border-glow-purple/20 rounded-full animate-float" style="animation-delay: 1s;"></div>
    <div class="absolute top-1/3 right-1/4 w-16 h-16 border border-cyber-gold/20 rounded-full animate-float" style="animation-delay: 1.5s;"></div>
    
    <!-- 登录卡片 -->
    <div class="relative z-10 w-full max-w-md">
        <!-- 卡片标题区域 -->
        <div class="text-center mb-8">
            <h1 class="text-[clamp(1.8rem,5vw,2.5rem)] font-bold text-white text-shadow-glow mb-2">
                天眼系统认证
            </h1>
            <p class="text-glow-blue/70 text-sm tracking-wider">
                请输入您的认证信息
            </p>
        </div>
        
        <!-- 登录表单卡片 -->
        <div class="gradient-border bg-deep-blue/80 backdrop-blur-sm p-6 md:p-8 rounded-lg shadow-xl">
            <form id="loginForm" class="space-y-6">
                <!-- 账号输入 -->
                <div class="space-y-2">
                    <label for="username" class="block text-white/80 text-sm tracking-wide">
                        <i class="fa fa-user-circle mr-2 text-glow-blue/70"></i>认证账号
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="username" 
                            class="w-full bg-space-blue/50 border border-glow-blue/30 rounded-md px-4 py-3 text-white placeholder-glow-blue/30 focus:outline-none focus:ring-2 focus:ring-glow-blue/50 transition-all"
                            placeholder="请输入账号"
                            autocomplete="off"
                        >
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 text-glow-blue/50 opacity-0 transition-opacity" id="userValid">
                            <i class="fa fa-check-circle"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 密码输入 -->
                <div class="space-y-2">
                    <label for="password" class="block text-white/80 text-sm tracking-wide">
                        <i class="fa fa-lock mr-2 text-glow-blue/70"></i>访问密钥
                    </label>
                    <div class="relative">
                        <input 
                            type="password" 
                            id="password" 
                            class="w-full bg-space-blue/50 border border-glow-blue/30 rounded-md px-4 py-3 text-white placeholder-glow-blue/30 focus:outline-none focus:ring-2 focus:ring-glow-blue/50 transition-all"
                            placeholder="请输入密钥"
                        >
                        <button 
                            type="button" 
                            id="togglePwd" 
                            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors"
                        >
                            <i class="fa fa-eye-slash"></i>
                        </button>
                        <div class="absolute right-10 top-1/2 transform -translate-y-1/2 text-glow-blue/50 opacity-0 transition-opacity" id="pwdValid">
                            <i class="fa fa-check-circle"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 错误提示 -->
                <div id="errorMsg" class="hidden text-red-400 text-sm flex items-center">
                    <i class="fa fa-exclamation-circle mr-2"></i>
                    <span>账号或密码错误，请重新输入</span>
                </div>
                
                <!-- 登录按钮 -->
                <button 
                    type="submit" 
                    class="w-full bg-gradient-to-r from-glow-blue/20 to-glow-purple/20 hover:from-glow-blue/30 hover:to-glow-purple/30 text-white font-medium py-3 px-4 rounded-md transition-all duration-300 flex items-center justify-center group animate-glow"
                >
                    <span>安全认证</span>
                    <i class="fa fa-arrow-right ml-2 transform group-hover:translate-x-1 transition-transform"></i>
                </button>
                
                <!-- 分隔线 -->
                <div class="relative flex items-center py-2">
                    <div class="flex-grow border-t border-white/10"></div>
                    <span class="flex-shrink mx-4 text-white/30 text-xs">认证协议 v2.4.1</span>
                    <div class="flex-grow border-t border-white/10"></div>
                </div>
                
                <!-- 底部信息 -->
                <div class="text-center text-white/40 text-xs tracking-wider">
                    <p>© 2077 天眼系统 授权访问</p>
                    <p class="mt-1">安全级别: <span class="text-cyber-gold text-shadow-gold">最高机密</span></p>
                </div>
            </form>
        </div>
    </div>
    
    <!-- 加载动画 (默认隐藏) -->
    <div id="loader" class="fixed inset-0 bg-space-blue/90 z-50 flex items-center justify-center hidden">
        <div class="text-center">
            <div class="w-16 h-16 border-4 border-glow-blue/30 border-t-glow-blue rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-glow-blue text-shadow-glow">正在验证身份...</p>
        </div>
    </div>

    <script>
        // 提前缓存DOM查询结果（减少DOM操作开销）
        const dom = {
            loginForm: document.getElementById('loginForm'),
            username: document.getElementById('username'),
            password: document.getElementById('password'),
            togglePwd: document.getElementById('togglePwd'),
            errorMsg: document.getElementById('errorMsg'),
            userValid: document.getElementById('userValid'),
            pwdValid: document.getElementById('pwdValid'),
            loader: document.getElementById('loader')
        };

        // 输入验证防抖处理（减少频繁验证的性能消耗）
        function debounce(func, delay = 100) {
            let timer;
            return function(...args) {
                clearTimeout(timer);
                timer = setTimeout(() => func.apply(this, args), delay);
            };
        }

        // 账号验证（防抖处理）
        const validateUsername = debounce(function() {
            if (dom.username.value === 'blm') {
                dom.userValid.classList.replace('opacity-0', 'opacity-100');
            } else {
                dom.userValid.classList.replace('opacity-100', 'opacity-0');
            }
            dom.errorMsg.classList.add('hidden');
        });

        // 密码验证（防抖处理）
        const validatePassword = debounce(function() {
            if (dom.password.value === 'admin') {
                dom.pwdValid.classList.replace('opacity-0', 'opacity-100');
            } else {
                dom.pwdValid.classList.replace('opacity-100', 'opacity-0');
            }
            dom.errorMsg.classList.add('hidden');
        });

        // 事件监听使用捕获模式，减少冒泡开销
        dom.username.addEventListener('input', validateUsername, { capture: true });
        dom.password.addEventListener('input', validatePassword, { capture: true });

        // 密码可见性切换（减少DOM操作）
        let isPasswordVisible = false;
        dom.togglePwd.addEventListener('click', () => {
            isPasswordVisible = !isPasswordVisible;
            dom.password.setAttribute('type', isPasswordVisible ? 'text' : 'password');
            dom.togglePwd.innerHTML = isPasswordVisible ? 
                '<i class="fa fa-eye"></i>' : 
                '<i class="fa fa-eye-slash"></i>';
        }, { capture: true });

        // 表单提交处理（优化加载体验）
        dom.loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // 快速验证，避免无效提交
            if (dom.username.value !== 'blm' || dom.password.value !== 'admin') {
                showError();
                return;
            }

            // 立即显示加载状态，提升响应感
            dom.loader.classList.remove('hidden');
            // 禁用表单防止重复提交
            dom.loginForm.querySelectorAll('input, button').forEach(el => {
                el.disabled = true;
            });

            // 使用requestAnimationFrame确保UI更新完成
            requestAnimationFrame(() => {
                // 缩短验证延迟，Windows环境下响应更快
                setTimeout(() => {
                    window.location.href = '天眼查.html';
                }, 800); // 从1500ms缩短到800ms，保持体验同时加快响应
            });
        }, { capture: true });

        // 错误处理函数（集中管理）
        function showError() {
            dom.errorMsg.classList.remove('hidden');
            // 添加抖动动画
            dom.loginForm.classList.add('animate-shake');
            // 使用requestAnimationFrame确保动画流畅
            requestAnimationFrame(() => {
                setTimeout(() => {
                    dom.loginForm.classList.remove('animate-shake');
                }, 500);
            });
        }

        // 页面加载完成后主动聚焦账号输入框，提升操作效率
        window.addEventListener('load', () => {
            dom.username.focus();
        }, { once: true }); // 确保只执行一次
    </script>
</body>
</html>